title: Switch, image, search and filter
type: jig.list
isSearchable: true

header:
  type: component.jig-header
  options:
    height: medium
    children:
      type: component.image
      options:
        source:
          uri: https://images.unsplash.com/photo-1535905557558-afc4877a26fc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8Ym9va3N8ZW58MHx8MHx8&auto=format&fit=crop&w=900&q=60
        title: Switch, image, search and filter
        subtitle: List with switch and image

filter:
  - title: All
    value: ALL
  - title: Active
    value: Active
  - title: Inactive
    value: Inactive

data: =$filter($filter(@ctx.datasources.switch-list, function($v){$contains($string($v.title),$string(@ctx.jig.state.searchText != null ? @ctx.jig.state.searchText:'')) }), function($v, $a, $i) { @ctx.jig.state.filter = 'ALL' or $v.subtitle = @ctx.jig.state.filter })[]
item:
  type: component.list-item
  options:
    title: =@ctx.current.item.title
    subtitle: =@ctx.current.item.subtitle
    rightElement:
      element: switch
      value: =@ctx.current.item.active = true ? true :false
    leftElement:
      element: image
      text: ""
      uri: =@ctx.current.item.image